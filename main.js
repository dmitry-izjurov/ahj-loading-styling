!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);document.querySelector("body");const s=document.querySelector(".chat"),o=document.querySelector(".button"),a=Array.from(document.querySelectorAll(".box-new__header")),r=Array.from(document.querySelectorAll(".box-img")),i=Array.from(document.querySelectorAll(".box-text")),c=Array.from(document.querySelectorAll(".box-footer"));function l(){return new Worker(n.p+"web.worker.worker.js")}const d=new class{constructor(){this.data=void 0}getUpdate(){var e,t,n;e=r,t=i,n=c,a.forEach(e=>{e.classList.contains("anim")||e.classList.add("anim"),e.classList.contains("box-new__header_anim")||e.classList.add("box-new__header_anim"),e.textContent=""}),e.forEach(e=>{e.classList.contains("anim")||e.classList.add("anim"),e.classList.contains("box-img_anim")||e.classList.add("box-img_anim"),e.textContent=""}),t.forEach(e=>{e.classList.contains("anim")||e.classList.add("anim"),e.classList.contains("box-text_anim")||e.classList.add("box-text_anim"),e.textContent=""}),n.forEach(e=>{e.classList.contains("anim")||e.classList.add("anim"),e.classList.contains("box-footer_anim")||e.classList.add("box-footer_anim"),e.textContent=""});const o=new l;o.addEventListener("message",e=>{console.log(e);const t=new XMLHttpRequest;t.open("GET","http://localhost:7070/?method=getNews"),t.send(),t.addEventListener("load",()=>{if(t.status>=200&&t.status<300)try{this.data=JSON.parse(t.responseText),function(e,t,n,s){e.forEach(e=>{e.classList.contains("anim")&&e.classList.remove("anim"),e.classList.contains("box-new__header_anim")&&e.classList.remove("box-new__header_anim")}),t.forEach(e=>{e.classList.contains("anim")&&e.classList.remove("anim"),e.classList.contains("box-img_anim")&&e.classList.remove("box-img_anim")}),n.forEach(e=>{e.classList.contains("anim")&&e.classList.remove("anim"),e.classList.contains("box-text_anim")&&e.classList.remove("box-text_anim")}),s.forEach(e=>{e.classList.contains("anim")&&e.classList.remove("anim"),e.classList.contains("box-footer_anim")&&e.classList.remove("box-footer_anim")})}(a,r,i,c),function(e,t,n,s,o){t.forEach((t,n)=>{t.textContent=e.response.news[n].title}),n.forEach((t,n)=>{t.textContent=e.response.news[n].img}),s.forEach((t,n)=>{t.textContent=e.response.news[n].text}),o.forEach((t,n)=>{t.textContent=e.response.news[n].footer})}(this.data,a,r,i,c),o.postMessage(this.data)}catch(e){s.insertAdjacentHTML("beforeend",'\n<div class="popup">\n  <div class="popup__block">\n    Не удалось загрузить данные. Проверьте подключение и обновите страницу\n  </div>\n</div>\n'),s.classList.toggle("chat__popup")}})}),o.addEventListener("error",e=>{console.error(e)})}};d.getUpdate(),o.addEventListener("click",()=>d.getUpdate()),navigator.serviceWorker&&window.addEventListener("load",async()=>{try{navigator.serviceWorker&&(await navigator.serviceWorker.register("/service.worker.js",{scope:"./"}),console.log("sw registered"))}catch(e){console.log(e)}})}]);